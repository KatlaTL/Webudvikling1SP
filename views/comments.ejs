<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <form action="" id="commentForm">
        <input type="text" name="comment" id="comment">
        <input type="submit" value="submit" id="submit">
    </form>
</body>
<script>
    let commentFormData = document.querySelector("#commentForm");
    commentFormData.addEventListener("submit",  (e) => {
        e.preventDefault();
        if (comment.value == "") {
            alert("Ensure you input a value in the field!");

        } else {
            alert("This form has been successfully submitted!");

            let commentData = comment.value;

            console.log(commentData);

            let formData = new FormData(commentFormData);
            
            fetch("/comments/postcomments/posted", {
                method: "POST",
                body: formData,
                headers: {
                    "Authorization": `Bearer ${localStorage.getItem("user") ? JSON.parse(localStorage.getItem("user")).jwt : ""}`
                }   
            });
        }
    });

</script>
</html>
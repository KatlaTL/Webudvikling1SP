<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="https://webdock.io/static/common/images/webdock-logo-hvid.svg" height="34" class="d-inline-block align-top" alt="Logo">
        </a>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" id="login" href="#">Login</a>
                <a class="nav-link" id="logout" href="#">Logout</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="signin" href="#">Sign Up</a>
            </li>
        </ul>
    </div>
</nav>
<script>
    const toggleDisplay = (btn) => {
        if (Array.isArray(btn)) {
            console.log("here?")
            for (let i = 0; i < btn.length; i++) {
                console.log(btn[i].style.display)
                btn[i].style.display = btn[i].style.display === "none" ? "block" : "none";
            }
        } else {
            btn.style.display = btn.style.display === "none" ? "block" : "none";
        }
    }
    
    const loggedInUser = localStorage.getItem("user");
    const loginBtn = document.querySelector("#login");
    const logoutBtn = document.querySelector("#logout");

    if (loggedInUser) {
        loginBtn.style.display = "none";
        logoutBtn.style.display = "block";

        logoutBtn.addEventListener("click", (e) => {
            e.preventDefault();
            localStorage.removeItem("user");

            toggleDisplay([loginBtn, logoutBtn]);

            fetchWrapper.get("/logout")
                .catch(err => console.log(err));
        });
    } else { 
        loginBtn.style.display = "block";
        logoutBtn.style.display = "none";

        loginBtn.addEventListener("click", (e) => {
            e.preventDefault();
            toggleDisplay([loginBtn, logoutBtn]);
            
            window.location.href = redirectUrl();
        });
    }
</script>